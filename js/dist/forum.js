(()=>{var t={n:o=>{var a=o&&o.__esModule?()=>o.default:()=>o;return t.d(a,{a}),a},d:(o,a)=>{for(var e in a)t.o(a,e)&&!t.o(o,e)&&Object.defineProperty(o,e,{enumerable:!0,get:a[e]})},o:(t,o)=>Object.prototype.hasOwnProperty.call(t,o),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},o={};(()=>{"use strict";t.r(o);const a=flarum.core.compat["forum/app"];var e=t.n(a);const r=flarum.core.compat["forum/components/DiscussionList"];var s=t.n(r);const n=flarum.core.compat["common/extend"],d=flarum.core.compat["forum/components/DiscussionListItem"];var i=t.n(d);const c=flarum.core.compat["forum/components/IndexPage"];var u=t.n(c);e().initializers.add("justoverclock/random-post",(function(){(0,n.extend)(s().prototype,"oninit",(function(){var t=this;e().store.find("posts",{include:"discussion,user"}).then((function(o){t.randomPostOne=o[Math.floor(Math.random()*o.length)],t.randomPostTwo=o[Math.floor(Math.random()*o.length)],t.randomPostTree=o[Math.floor(Math.random()*o.length)]}))})),(0,n.extend)(s().prototype,"view",(function(t){var o=this;e().current.matches(u())&&m.redraw(),t.children.forEach((function(t){if(t&&t.attrs&&"DiscussionList-discussions"===t.attrs.className){var a=0;t.children.forEach((function(t){t&&t.children&&[].concat(t.children).forEach((function(e){"li"===e.tag&&e.children&&e.children.length&&e.children[0]&&e.children[0].tag===i()&&(e.attrs["data-index"]=a,1===a?t.children.splice(t.children.indexOf(e),0,m("div",{id:"random-post-one"},m("div",{className:"random-post-content"},m("p",{className:"random-post-text",id:"random-post-text"},o.randomPostOne&&o.randomPostOne.data.attributes.contentHtml.replace(/<\/?[^>]+(>|$)/g,"").substr(0,200)),m("div",{className:"random-post-info"},m("div",{className:"random-post-author",id:"random-post-author"},m("a",{href:o.randomPostOne&&"u/"+o.randomPostOne.user().data.attributes.slug},o.randomPostOne&&o.randomPostOne.user().displayName())," in the ",m("a",{href:o.randomPostOne&&"d/"+o.randomPostOne.discussion().data.attributes.slug},o.randomPostOne&&o.randomPostOne.discussion().data.attributes.title)))))):10===a?t.children.splice(t.children.indexOf(e),0,m("div",{id:"random-post-one"},m("div",{className:"random-post-content"},m("p",{className:"random-post-text",id:"random-post-text"},o.randomPostTwo&&o.randomPostTwo.data.attributes.contentHtml.replace(/<\/?[^>]+(>|$)/g,"").substr(0,200)),m("div",{className:"random-post-info"},m("div",{className:"random-post-author",id:"random-post-author"},m("a",{href:o.randomPostTwo&&"u/"+o.randomPostTwo.user().data.attributes.slug},o.randomPostTwo&&o.randomPostTwo.user().displayName())," in the ",m("a",{href:o.randomPostTwo&&"d/"+o.randomPostTwo.discussion().data.attributes.slug},o.randomPostTwo&&o.randomPostTwo.discussion().data.attributes.title)))))):19===a&&t.children.splice(t.children.indexOf(e),0,m("div",{id:"random-post-one"},m("div",{className:"random-post-content"},m("p",{className:"random-post-text",id:"random-post-text"},o.randomPostTree&&o.randomPostTree.data.attributes.contentHtml.replace(/<\/?[^>]+(>|$)/g,"").substr(0,200)),m("div",{className:"random-post-info"},m("div",{className:"random-post-author",id:"random-post-author"},m("a",{href:o.randomPostTree&&"u/"+o.randomPostTree.user().data.attributes.slug},o.randomPostTree&&o.randomPostTree.user().displayName())," in the ",m("a",{href:o.randomPostTree&&"d/"+o.randomPostTree.discussion().data.attributes.slug},o.randomPostTree&&o.randomPostTree.discussion().data.attributes.title)))))),a++)}))}))}}))}))}))})(),module.exports=o})();
//# sourceMappingURL=forum.js.map